DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'TestePraticoDevNet.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202009041932081_addUsuariostable'
BEGIN
    CREATE TABLE [dbo].[Usuario] (
        [ID] [uniqueidentifier] NOT NULL,
        [Nome] [nvarchar](max) NOT NULL,
        [Login] [nvarchar](max) NOT NULL,
        [Senha] [nvarchar](max) NOT NULL,
        [Ativo] [bit] NOT NULL,
        CONSTRAINT [PK_dbo.Usuario] PRIMARY KEY ([ID])
    )
    INSERT INTO Usuario(ID, Nome, Login, Senha, Ativo) VALUES(NEWID(), 'Administrador do Sistema', 'admin', 'D033E22AE348AEB5660FC2140AEC35850C4DA997', 1) --Senha: Admin
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009041932081_addUsuariostable', N'TestePraticoDevNet.Migrations.Configuration',  0x1F8B0800000000000400CD57DB6EDB46107D2FD07F58EC530B385ADB79690D328123D981514B36423BEF2B72242DBA1766772948DF96877E527FA1C33B455D2C478151E8455CCE9CB9ECCC99E1BFDFFF093EAE94244BB04E181DD28BC13925A06393083D0F69E667EFFEA01F3FFCFA4B7093A815F95ACBBDCFE55053BB902EBC4FAF1873F10214770325626B9C99F9416C14E3896197E7E77FB28B0B060841118B90E04BA6BD50503CE0E3D0E818529F7139360948579DE39BA8402513AEC0A53C86903E81F3F068B917B119C172027E502851722D05477F2290334AB8D6C6A390D157CF0E226F8D9E47291E70F9B44E01E5665C3AA8A2B86AC58F0DE8FC320F88B58A35549C396FD42B012FDE5719627DF51FCA336D328839BCC15CFB751E7591C7903EBB8C5B6128E9DBBA1A4A9BCBEDCFF2A0D23D23DB12674D7D6019E5BF3332CCA4CF2C841A326FB93C238FD9548AF82F583F99BF41873A93B2EB2B7A8BEF360EF0E8D19A14AC5F7F815915C1DD8812B6A9C7FA8A8D5A47A70CEE7326124A26689B4F253495C00EAA4F8C821A00CB09FB8392315FDD839EFB4548F12F25B76205497D52A13E6B4C50824ADE66F06AABF7662EF4DB9B8D402FF8DB9BBDF662696AB39F8C91C0F50B20016BCB7BBBE891583C171A6C6D204DB1FC8A5A1F4DF397B0F23BDA0019A3EA045745B2E976091E81DF6C284749EB4C494483A6D77639DDB8D7121E2B19AF6646B6871A83314F53BC950E555627242A7972F82E7A3D75A81283C56E078334DE3696BCB17C0EBDB7681A3DBD15D6F911F77CCAF32B1B266A4B6CE765EC49746DB297EF3E53B4E9AF15F2FFA5D24B94D6076B537A8B512AD0BE08181A9F5A22DDD22C261797DCEEE0A0A19199D2FB78EC907649415DFDF2E478848A4EBA10D5D1F11815377431AAA3E331AA46EF625447DB1801EB5D43FFD2D9D6ADF72643BF8A0E75625FA4B1DE7464AFF382AA0B5EDE5CB6DAA214A10493B31449DE12D11A6B540D728141F44D0EA5C0785B8131D76286655C0E4F8A6BC3656FEDF9FFAC20CCB9441EB787BCF9029069F12D03CC287A3413604F5A06F492DB78C1ED6F8AAF7E3F6DC09F06B531B44F83DA18C453E17FEA10DE1E0F474DD743C3B5ECA49026D3DCEBD2CF5327EF765F07ACFBDD128CC089790B917FC56888F38669416B993B3D33758E31B2AE47B548EF0AC6E0798209BAB658A33CF6F83A06E78A4DEC2B97198ADCA8292477FA21F369E6AF9D033595EB6EBC013B6CBF582F367D0E1ED2FCC9FD8C10D04D8121C083FE940999347EDFEEA8A03D1079AD7C063C2F88083751849BAF1BA489D1470255E91B410A3AEFFB2750A94430F7A023BE841FF10DB7C47B98F3785DD3F37E90972F6233EDC148F0B9E5CA5518AD7EFE2DCEF28FF10FFF019F7D0AB9BE0F0000 , N'6.4.4')
END

IF @CurrentMigration < '202009041936066_addForncedorTable'
BEGIN
    CREATE TABLE [dbo].[Fornecedor] (
        [ID] [uniqueidentifier] NOT NULL,
        [Nome] [nvarchar](max) NOT NULL,
        [Cnpj] [nvarchar](max) NOT NULL,
        [Endereco] [nvarchar](max) NOT NULL,
        [Ativo] [bit] NOT NULL,
        CONSTRAINT [PK_dbo.Fornecedor] PRIMARY KEY ([ID])
    )
    INSERT INTO Fornecedor (ID, Nome, Cnpj,Endereco, Ativo)  VALUES (NEWID(), 'Empresa 01', '18708847000190', 'Rua Um, Jardim Planalto - Botucatu/SP', 1);
    INSERT INTO Fornecedor (ID, Nome, Cnpj,Endereco, Ativo)  VALUES (NEWID(), 'Empresa 02', '18708847000190', 'Rua Dois, Jardim Paraiba - Boraceia/SP', 0);
    INSERT INTO Fornecedor (ID, Nome, Cnpj,Endereco, Ativo)  VALUES (NEWID(), 'Empresa 03', '18708847000190', 'Rua Três, Jardim Primavera - Buri/SP', 1);
    INSERT INTO Fornecedor (ID, Nome, Cnpj,Endereco, Ativo)  VALUES (NEWID(), 'Empresa 04', '18708847000190', 'Rua Quatro, Jardim Paraiso - Bofete/SP', 0);
    INSERT INTO Fornecedor (ID, Nome, Cnpj,Endereco, Ativo)  VALUES (NEWID(), 'Empresa 05', '18708847000190', 'Rua Cinco, Jardim Piaui - Bariri/SP', 1);
    INSERT INTO Fornecedor (ID, Nome, Cnpj,Endereco, Ativo)  VALUES (NEWID(), 'Empresa 06', '18708847000190', 'Rua Seis, Jardim Pernambuco - Barretos/SP', 0);
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009041936066_addForncedorTable', N'TestePraticoDevNet.Migrations.Configuration',  0x1F8B0800000000000400ED584B6FE33610BE17E87F10786A81AC99642F6D20EF226BC78BA0B113AC92BDD3D2D8664B915A9232ECDFB687FEA4FE858EDEB2643B721C18E903BE58D4CC374FCE437F7DFFD3FDB80A85B3046DB8927D72D13B270E485F055CCEFB24B6B377BF908F1F7EFCC1BD09C295F3B5A07B9FD021A7347DB2B036BAA2D4F80B0899E985DCD7CAA899EDF92AA42C50F4F2FCFC577A714101210862398EFB25969687903EE0E340491F221B3331560108939FE31B2F4575262C0413311FFAE4118C8507CD2CF7D5109613B0BD948938D78233D4C70331230E9352592452F2EAC98067B592732FC203261ED71120DD8C0903B9155715795783CE2F138368C55840F9B1B12A3C10F0E27DEE21DA647F919F49E941F4E10DFADAAE13AB533FF6C94869093E044A13A729EE6A207442BADBD1BD8AFDCC69139D955982C994FCCE9C412C6CACA12F21B69A8933E7219E0AEEFF06EB47F507C8BE8C85A86B8C3AE3BB8D033C7AD02A026DD75F6096DB713B240EDDE4A34DC692ADC693D9F739E6017126289B4D0594F940F7B24F540805002615DE12E28CD9EA0EE4DC2EFA04FF1267C45710142739EA93440705C864750C074B1DC8E8F7D34BBD910168F0D5E9255F5BBE2CC57E524A0093CF80B8B44AF3BDC9FF6462A6B97A51E6E7BCFFA7FD69D2E04ECDB93CBD580FE482FD0B921EBBAA655C822E044411A65F9AEBC369F2125676CB35C07699DF04935BB2A97606EE816D751330C4A914CA3A71AFDE6CE87EA4FC7A6D43296FED36F34B43ABB9816683433160D01D13863B665184F1AD4D1CF989E365E3C6E09D7778070E330CEA9B2D8DB8D4B6946495667368BC45D1A8E9886B6387CCB2294B823F08C216D9D6B0EE707421724BE49A75A70A41C194FCCF183B8C064DBCCAB3233436046953BBA1546D632C6931A7A320134C6FA96B0325E250EEAA8DFBB8B3B256E7CF4EBA23649DB98E909D7447A8BA6C1DA53AED8E9417903A4C7ED4C67069231ACDF0D356FC1B1DA799539D32AEBCE1AF926D4551383CD57672BED53CCB5B611D223FEA8E91F7B53A467EF40FCCB156ED6F9294D2CB1ED0A8F56E5E779F5F395B853823210E3A67C983A4087B6BCCD1B09710F4BC6F622038DA5B118C99E4334CE36CF023B8EF5D36F6D5B7B33B526302D179813CF9FC1A4BFE2D06742A2A35E3A08F9A65E592697FC1F44F215BFD7CD45A761C5273D53A0E6D63929C72FBDAABD37F39E61B3BC971501B7BC61B8A78736F68CFA15D178267D681AC8CF649304D74CFB43D7C5DD8B72D6C9370EC2AD16E1B2EAD7FCF748760F8BC8248BE6EA249493DAE400B9A5B3953452CD1B2BA46054923D463B02CC0405C6BBC0BCCB7F8DA0763D225F52B1371524DC22904B7F23EB6516CAF8D81702AD6757B5DBA5F7EBA2F6DEAECDE47C993790D13504D8E26C0BDFC147311947A8FB664EA0E8824273F039EA77D0E9774849BAF4BA489921D8172F70D210299D4974708238160E65E7A6C092FD10D17E83B98337F5D74FFDD20CF0762D3EDEE90B3B966A1C9312AFEE41B3D4D3ED27FF81BE4D86FF0D6170000 , N'6.4.4')
END

IF @CurrentMigration < '202009041940231_addProdutoTable'
BEGIN
    CREATE TABLE [dbo].[Produto] (
        [ID] [uniqueidentifier] NOT NULL,
        [Nome] [nvarchar](max) NOT NULL,
        [Quantidade] [int] NOT NULL,
        [Fornecedores_ID] [uniqueidentifier],
        CONSTRAINT [PK_dbo.Produto] PRIMARY KEY ([ID])
    )
    CREATE INDEX [IX_Fornecedores_ID] ON [dbo].[Produto]([Fornecedores_ID])
    INSERT INTO Produto  (ID, Nome, Quantidade, Fornecedores_ID) VALUES (NEWID(), 'Produto 01', 10, (SELECT ID FROM Fornecedor WHERE Nome = 'Empresa 01'));
    INSERT INTO Produto  (ID, Nome, Quantidade, Fornecedores_ID) VALUES (NEWID(), 'Produto 02', 20, (SELECT ID FROM Fornecedor WHERE Nome = 'Empresa 02'));
    INSERT INTO Produto  (ID, Nome, Quantidade, Fornecedores_ID) VALUES (NEWID(), 'Produto 03', 30, (SELECT ID FROM Fornecedor WHERE Nome = 'Empresa 03'));
    INSERT INTO Produto  (ID, Nome, Quantidade, Fornecedores_ID) VALUES (NEWID(), 'Produto 04', 40, (SELECT ID FROM Fornecedor WHERE Nome = 'Empresa 04'));
    INSERT INTO Produto  (ID, Nome, Quantidade, Fornecedores_ID) VALUES (NEWID(), 'Produto 05', 50, (SELECT ID FROM Fornecedor WHERE Nome = 'Empresa 05'));
    INSERT INTO Produto  (ID, Nome, Quantidade, Fornecedores_ID) VALUES (NEWID(), 'Produto 06', 60, (SELECT ID FROM Fornecedor WHERE Nome = 'Empresa 06'));
    ALTER TABLE [dbo].[Produto] ADD CONSTRAINT [FK_dbo.Produto_dbo.Fornecedor_Fornecedores_ID] FOREIGN KEY ([Fornecedores_ID]) REFERENCES [dbo].[Fornecedor] ([ID])
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202009041940231_addProdutoTable', N'TestePraticoDevNet.Migrations.Configuration',  0x1F8B0800000000000400ED5ACD6EE33610BE17E83B083AB545D67292CBD6B07791759285D1FC354E16BD05B43476D852A496A40C1B459FAC873E525FA1A37F89926DD94E032F76918B45713ECE0CBF190E47F9F7EF7FFAEF173EB3E62015157C601F77BAB605DC151EE5B3811DEAE99BB7F6FB77DF7FD7BFF0FC85F5299B771ACD4349AE06F6B3D641CF7194FB0C3E511D9FBA522831D51D57F80EF18473D2EDFEEC1C1F3B801036625956FF3EE49AFA103FE0E3507017021D12762D3C602A1DC737E318D5BA213EA880B830B01F4069B8934453579CC3FC06742716B2AD334609EA330636B52DC2B9D03849F0DEA382B19682CFC6010E10F6B00C00E74D0953905AD12BA6B735A87B1219E4148219941B2A2DFC2D018F4F530F39A6F84E7EB6730FA20F2FD0D77A19591DFB71605F0AC9C1054F48DB3297EB0D998CA6AE7674A7103FB2EA938E72962099A2BF236B18321D4A187008B524ECC8BA0B278CBABFC0F241FC017CC043C6CA1AA3CEF8AE32804377520420F5F21EA6A91DA373DB72AA728E29988B956412FB3E86D4B3AD1B5C9B4C18E47C70D68ADF081F3200241546896D5D93C515F0997E1ED8F8D3B62EE902BC6C24457DE4E8200F85B40C61EB55873CF8FDF557BDE01E4870C5EBAF7CA6E93C5FF683100C08DF0C7243E6741693D880C3472FD442D9D63DB078827AA64192293AE9CBA782D580132FA5F0EF052B842BEF9F1E889C81460DC59A4963114AD750B3EF14D1B8364653C49D023495FD169DAFC3D65F4382BBE7112F5F7BC4F5E9C91E84AD72F1A5489BF1712D693366EF44DA4715124977236D2AFB8DB4AF43DA2B31A3FCF5971D037F265FC481B28AF4674A0997C6ACAEA6EA6A3056D5C1A3D46A1399895B4A118ECE41A6D300B98DBA0CEC9F6A966E80CE4FAA02BA5CFE55D1BB9DCEB1E98592BDF5D8C7C25D13CA41667E0E22AC78F2F9247A090BDD900DB0224F13824A37D4B429021F836ECC87C5BE341854F34E1529F551234CEEF20D1869A66A82C813A0015172624D17238997A6AE4BF6662A6BC9B0DC968A2B9C2DD1325295D0AA469829B46A7F4394E5442AAE7E4E72F7CBEE88CE8A4B62FF9A0401A691D2A5311DB1C6C98D71F866BCFD25CA4F301C5735DCA5726DF395B4906406C65B5C1A35BDA452E973A2C984443966E8F9B5698D61B38284D9920D9151DFC58C9E9950F43B116C71BB33F10ACF5EA2B13E701DDB0D8D2CA80BC7B779C2886C383E8782853E5F7504AF934E4ECFB27C32D21E21B95C95119291F608C545A98C528CB6474ACFA9324C3A54C7E83BC66E98DBEFD4F6DF884A9353AD1857A48D17A15B9674B7E7DA4AC943255AF99E50C6298F1FCC36E787DC8BEC72762E6EBFCB2B250F7597D3C2BA0C910EB5C748ABE432463AF465A692EAF1DF984F8C2AA87DE630045B6689A8C269EE1235563A758FB5E25E05AA898891E3723D7654312DED7654716BADB03CF1687CFB19A9E802955F9EB630DC2C08EBA4A9D585E6949CB2797D68D481FDB426DBFC45A156A425536C0B5D30A75E54A08D974842BF134DE88C3FB321A31824C5846BC2E914799AF41EEC93EEF189F139E2703E0D384A79ACF5F781576FA1849C7E0E019D8A4A4D29C8BDDA297C4EA4FB4CE40F3E59FCB857D77D3F24B393BE1F5AA59931A17AC746C6CA96F3D7BCE7F55E2EE59B1C5C47A9A5BF5576D63A232364CA6260FF1903F5ACD16F4F06D691752B914C3DAB6BFD55D62B698BEDD5B5FD9AF7BDD20EDD0FAAD2E23C8848DFB365596EAFEDD8466C6A29EDD6EE44EE612AE5D1777CAC0D9496581DD4CAD53B49B94B03C2EA16D4CBA436AC8E7C9B839A6FCE21001E91D8B0AFCD522D2AC41CDE88B34D9ED8B2755B6F55B5EDC96EE8C826D5D4C0F626D19627E4DDBE63BBAE5FDBB4C296CDDC75BDDC26F84368F4D677C0ECC1B568EC36B584FF9FFE6DBD1E470E97FE0F08E348D1590111DD34D0900A7BF339233E155934191A65538C5C7A0D9A7848ED3389870D7135BE7641A9F803D427C2C2A84CF327E08DF86DA88350A3C9E04FD8B2EC8C2818D7AD1F37A9AB3AF76F83F8DBED4B98806A6269A2E1967F0829F372BD2F1B8E82151051947F041C4FF612938686D93247BA11BC2550EABE3C393D801F300453B77C4CE6B08B6E8F0AAE6046DC6576AD5A0DB27923AA6EEF9F533293C4572946218F8FC861CF5FBCFB0F5DF145930E270000 , N'6.4.4')
END

